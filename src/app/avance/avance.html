@if (! bMostrarBotonesEspeciales)
{
  <img src="/mas.png" alt="Pedido Image" height="20" width="20"(click)="mostrarOcultarBotonesEspeciales()"/>
}
@if (bMostrarBotonesEspeciales)
{
  <img src="/menos.png" alt="Pedido Image" height="20" width="20"(click)="mostrarOcultarBotonesEspeciales()"/>
  <button (click)="crearAvances()">
    Crear Avances iniciales
  </button>
}

<div style="padding: 20px;">
  <h2>NUevo Avance</h2>
    Fecha: <input type="text" [(ngModel)]="nuevoAvance.fecha" (dblclick)="fechaActual()" size="10"/>
    Oro: <input type="text" [(ngModel)]="nuevoAvance.oro" size="8"/>
    Gasto: <input type="text" [(ngModel)]="nuevoAvance.gasto"  size="10"/>
    Estrellas: <input type="text" [(ngModel)]="nuevoAvance.estrellas"  size="10"/>
    Estrellas Obj.: <input type="text" [(ngModel)]="nuevoAvance.estrellasObjetivo" (dblclick)="objetivoAnterior()" size="10"/>
    <button (click)="agregarAvance()">
      Agregar Avance
    </button>
</div>



<div style="padding: 20px;">
  <h2>Avances</h2>

  <table style="margin-top:12px; font-family: Arial, sans-serif;">
    <thead style="background:#007bff; color:#fff;">
      <tr>
        <th style="border:1px solid #ddd; padding:8px; text-align:left;">Fecha</th>
        <th style="border:1px solid #ddd; padding:8px; text-align:left;">Oro</th>
        <th style="border:1px solid #ddd; padding:8px; text-align:left;">Gasto</th>
        <th style="border:1px solid #ddd; padding:8px; text-align:left;">Ganancia</th>
        <th style="border:1px solid #ddd; padding:8px; text-align:left;">Estrellas</th>
        <th style="border:1px solid #ddd; padding:8px; text-align:left;">Estrellas obj</th>
        <th style="border:1px solid #ddd; padding:8px; text-align:left;">%</th>
      </tr>
    </thead>
    <tbody>
      @for (avance of lAvances; track avance.id; let i = $index) {
        <tr>
          <td style="border:1px solid #ddd; padding:8px; text-align:right;">{{avance.fecha}}</td>
          <td style="border:1px solid #ddd; padding:8px; text-align:right;">{{avance.oroTXT()}}</td>
          <td style="border:1px solid #ddd; padding:8px; text-align:right;">{{avance.gastoTXT()}}</td>
          <td style="border:1px solid #ddd; padding:8px; text-align:right;">{{ganancia(i)}}</td>
          <td style="border:1px solid #ddd; padding:8px; text-align:right;">{{avance.estrellasTXT()}}</td>
          <td style="border:1px solid #ddd; padding:8px; text-align:right;">{{avance.estrellasObjetivoTXT()}}</td>
          <td style="border:1px solid #ddd; padding:8px; text-align:right;" >{{avance.conseguido()}}%
            <img src="/equis.png" alt="Pedido Image" height="20" width="20"(click)="eliminar(avance.id!)"/>
          </td>
       </tr>
      }
      @if (lAvances.length === 0) {
        <tr>
          <td colspan="6" style="border:1px solid #ddd; padding:12px; text-align:center; color:#666;">
            No hay avances.
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>

<table>
  @for (avance of lAvances; track avance.id; let i = $index) {
  <tr>
    <td bgcolor="avance.colorFondoProcentaje()"> 
      <p [style.color]="'#ffc5c5'"> 
        {{avance.conseguido()}}%
      </p>
    </td>
  </tr>
  }
</table>
<!-- ...existing code... -->  